<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" />
  <link rel="stylesheet" href="https://cdn.datatables.net/1.11.3/css/dataTables.bootstrap.min.css" />
  <link rel="stylesheet" href="https://cdn.datatables.net/fixedheader/3.2.0/css/fixedHeader.bootstrap.min.css" />
  <link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.2.9/css/responsive.bootstrap.min.css" />
  <link rel="stylesheet" href="styleTracker.css">
  <title>Daftar Surat DISPERINDAGESDM</title>
</head>
<body>
  <button class="back-button" onclick="history.back()">Kembali</button>
  <div class="container">
    <div class="row">
      <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
        <h3 class="text-center mb-4">Daftar Surat DISPERINDAGESDM</h3>
        <h4 class="text-center mb-4" id="packageName"></h4>
        <table id="example" class="table table-striped table-bordered mt-2 mb-2" style="width: 100%"></table>
        <p id="passingGrade"></p>
      </div>
    </div>
  </div>

  <!-- Modal -->
  <div class="modal fade" id="suratModal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="modalLabel">Status Surat</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body text-center">
          <!-- Icon Surat -->
          <span class="glyphicon glyphicon-envelope" style="font-size: 50px; color: #007bff;"></span>
          <p id="suratMessage" class="mt-3">Surat dengan alamat pengirim sudah sampai di TU.</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Tutup</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Scripts -->
  <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js"></script>
  <script src="https://cdn.datatables.net/1.11.3/js/dataTables.bootstrap.min.js"></script>
  <script src="https://cdn.datatables.net/fixedheader/3.2.0/js/dataTables.fixedHeader.min.js"></script>
  <script src="https://cdn.datatables.net/responsive/2.2.9/js/dataTables.responsive.min.js"></script>
  <script src="https://cdn.datatables.net/responsive/2.2.9/js/responsive.bootstrap.min.js"></script>

  <script type="text/javascript">
    $(document).ready(function () {
      $("#example").DataTable({
        ajax: "https://script.google.com/macros/s/AKfycbwhnYqEH-nSJZhGdIIl_mXDJeRRXpYgzUizfcNRusUkHwJY3Y8UtdAqMJ2ZxtWxVjzRYg/exec",
        columns: [
          {
            title: "NOMOR",
            data: "NOMOR",
          },
          {
            title: "ALAMAT PENGIRIM",
            data: "ALAMAT PENGIRIM",
          },
          {
            title: "NOMOR SURAT",
            data: "NOMOR SURAT",
          },
          {
            title: "TANGGAL",
            data: "TANGGAL",
          },
          {
            title: "PERIHAL",
            data: "PERIHAL",
          },
          {
            title: "KETERANGAN",
            data: "KETERANGAN",
          },
          {
            title: "AKSI",
            data: null,
            render: function (data, type, row) {
              return '<button class="btn btn-primary btn-sm" onclick="lihatDetail(\'' + row["ALAMAT PENGIRIM"] + '\')">Lihat</button>';
            },
            orderable: false,
            searchable: false
          }
        ],
        rowId: "ID",
        liveAjax: true,
      });
    });

    function lihatDetail(alamatPengirim) {
      // Set pesan di dalam modal
      document.getElementById('suratMessage').innerText = "Surat dengan alamat pengirim " + alamatPengirim + " sudah sampai di TU.";
      // Tampilkan modal
      $('#suratModal').modal('show');
    }
  </script>
</body>
</html>
